"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.baiduTongjiPlugin = void 0;
const utils_1 = require("@vuepress/utils");
const baiduTongjiPlugin = ({ id }) => (app) => {
    const plugin = {
        name: "@renovamen/vuepress-plugin-baidu-tongji"
    };
    if (!id) {
        utils_1.logger.warn(`[${plugin.name}] 'id' is required`);
        return plugin;
    }
    if (app.env.isDev) {
        return plugin;
    }
    return {
        ...plugin,
        clientConfigFile: utils_1.path.resolve(__dirname, "../client/config.js"),
        define: {
            __BA_ID__: id
        }
    };
};
exports.baiduTongjiPlugin = baiduTongjiPlugin;
